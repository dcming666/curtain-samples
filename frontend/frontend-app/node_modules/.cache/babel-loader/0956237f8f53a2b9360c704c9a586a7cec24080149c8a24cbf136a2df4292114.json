{"ast":null,"code":"import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"category-container\"\n};\nconst _hoisted_2 = {\n  class: \"page-header\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"loading-container\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"error-message\"\n};\nconst _hoisted_7 = {\n  key: 2\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"empty-state\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"curtain-grid\"\n};\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = {\n  class: \"curtain-info\"\n};\nconst _hoisted_12 = {\n  class: \"curtain-tags\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_el_skeleton = _resolveComponent(\"el-skeleton\");\n  const _component_el_alert = _resolveComponent(\"el-alert\");\n  const _component_el_empty = _resolveComponent(\"el-empty\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_row, {\n    gutter: 20\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_col, {\n      span: 24\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [$setup.currentCategory ? (_openBlock(), _createElementBlock(\"h1\", _hoisted_3, _toDisplayString($setup.currentCategory.name), 1)) : (_openBlock(), _createElementBlock(\"h1\", _hoisted_4, \"分类浏览\")), _createVNode(_component_el_button, {\n        onClick: $setup.goBack,\n        icon: \"el-icon-arrow-left\"\n      }, {\n        default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"返回首页\")])),\n        _: 1\n      }, 8, [\"onClick\"])])]),\n      _: 1\n    })]),\n    _: 1\n  }), $setup.curtainStore.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createVNode(_component_el_skeleton, {\n    rows: 5,\n    animated: \"\"\n  })])) : $setup.curtainStore.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createVNode(_component_el_alert, {\n    title: $setup.curtainStore.error,\n    type: \"error\",\n    \"show-icon\": \"\"\n  }, null, 8, [\"title\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [$setup.curtainStore.curtains.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createVNode(_component_el_empty, {\n    description: \"该分类下暂无窗帘样本\"\n  })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.curtainStore.curtains, curtain => {\n    return _openBlock(), _createBlock(_component_el_card, {\n      key: curtain.id,\n      class: \"curtain-card\",\n      \"body-style\": {\n        padding: '0px'\n      },\n      shadow: \"hover\",\n      onClick: $event => $setup.navigateToCurtain(curtain.id)\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"img\", {\n        src: curtain.image_url,\n        class: \"curtain-image\"\n      }, null, 8, _hoisted_10), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"h3\", null, _toDisplayString(curtain.name), 1), _createElementVNode(\"p\", null, _toDisplayString(curtain.description), 1), _createElementVNode(\"div\", _hoisted_12, [curtain.in_stock ? (_openBlock(), _createBlock(_component_el_tag, {\n        key: 0,\n        size: \"small\",\n        type: \"success\"\n      }, {\n        default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"有库存\")])),\n        _: 1\n      })) : (_openBlock(), _createBlock(_component_el_tag, {\n        key: 1,\n        size: \"small\",\n        type: \"danger\"\n      }, {\n        default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"缺货\")])),\n        _: 1\n      })), curtain.is_new ? (_openBlock(), _createBlock(_component_el_tag, {\n        key: 2,\n        size: \"small\",\n        type: \"warning\"\n      }, {\n        default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"新品\")])),\n        _: 1\n      })) : _createCommentVNode(\"\", true)])])]),\n      _: 2\n    }, 1032, [\"onClick\"]);\n  }), 128))]))]))]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_el_row","gutter","default","_withCtx","_component_el_col","span","_createElementVNode","_hoisted_2","$setup","currentCategory","_hoisted_3","_toDisplayString","name","_hoisted_4","_component_el_button","onClick","goBack","icon","_cache","_createTextVNode","_","curtainStore","loading","_hoisted_5","_component_el_skeleton","rows","animated","error","_hoisted_6","_component_el_alert","title","type","_hoisted_7","curtains","length","_hoisted_8","_component_el_empty","description","_hoisted_9","_Fragment","_renderList","curtain","_createBlock","_component_el_card","id","padding","shadow","$event","navigateToCurtain","src","image_url","_hoisted_10","_hoisted_11","_hoisted_12","in_stock","_component_el_tag","size","is_new","_createCommentVNode"],"sources":["C:\\Users\\Firebat\\Desktop\\curtain\\frontend\\frontend-app\\src\\views\\CategoryList.vue"],"sourcesContent":["<template>\r\n  <div class=\"category-container\">\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"24\">\r\n        <div class=\"page-header\">\r\n          <h1 v-if=\"currentCategory\">{{ currentCategory.name }}</h1>\r\n          <h1 v-else>分类浏览</h1>\r\n          <el-button @click=\"goBack\" icon=\"el-icon-arrow-left\">返回首页</el-button>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    \r\n    <!-- 加载状态 -->\r\n    <div v-if=\"curtainStore.loading\" class=\"loading-container\">\r\n      <el-skeleton :rows=\"5\" animated />\r\n    </div>\r\n    \r\n    <!-- 错误信息 -->\r\n    <div v-else-if=\"curtainStore.error\" class=\"error-message\">\r\n      <el-alert :title=\"curtainStore.error\" type=\"error\" show-icon />\r\n    </div>\r\n    \r\n    <!-- 窗帘样本列表 -->\r\n    <div v-else>\r\n      <div v-if=\"curtainStore.curtains.length === 0\" class=\"empty-state\">\r\n        <el-empty description=\"该分类下暂无窗帘样本\" />\r\n      </div>\r\n      <div v-else class=\"curtain-grid\">\r\n        <el-card \r\n          v-for=\"curtain in curtainStore.curtains\" \r\n          :key=\"curtain.id\"\r\n          class=\"curtain-card\"\r\n          :body-style=\"{ padding: '0px' }\"\r\n          shadow=\"hover\"\r\n          @click=\"navigateToCurtain(curtain.id)\"\r\n        >\r\n          <img :src=\"curtain.image_url\" class=\"curtain-image\">\r\n          <div class=\"curtain-info\">\r\n            <h3>{{ curtain.name }}</h3>\r\n            <p>{{ curtain.description }}</p>\r\n            <div class=\"curtain-tags\">\r\n              <el-tag size=\"small\" type=\"success\" v-if=\"curtain.in_stock\">有库存</el-tag>\r\n              <el-tag size=\"small\" type=\"danger\" v-else>缺货</el-tag>\r\n              <el-tag size=\"small\" type=\"warning\" v-if=\"curtain.is_new\">新品</el-tag>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { useCurtainStore } from '../stores'\r\n\r\nexport default {\r\n  name: 'CategoryList',\r\n  setup() {\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const curtainStore = useCurtainStore()\r\n    \r\n    // 当前分类ID\r\n    const categoryId = computed(() => route.params.id)\r\n    \r\n    // 当前分类信息\r\n    const currentCategory = computed(() => {\r\n      if (!categoryId.value || !curtainStore.categories.length) return null\r\n      return curtainStore.categories.find(c => c.id == categoryId.value) || null\r\n    })\r\n    \r\n    onMounted(async () => {\r\n      // 获取分类列表（如果尚未加载）\r\n      if (!curtainStore.categories.length) {\r\n        await curtainStore.fetchCategories()\r\n      }\r\n      \r\n      // 获取当前分类下的窗帘样本\r\n      if (categoryId.value) {\r\n        await curtainStore.fetchCurtainsByCategory(categoryId.value)\r\n      }\r\n    })\r\n    \r\n    const navigateToCurtain = (curtainId) => {\r\n      router.push({ name: 'CurtainDetail', params: { id: curtainId } })\r\n    }\r\n    \r\n    const goBack = () => {\r\n      router.push({ name: 'Home' })\r\n    }\r\n    \r\n    return {\r\n      curtainStore,\r\n      currentCategory,\r\n      navigateToCurtain,\r\n      goBack\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.category-container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.page-header h1 {\r\n  font-size: 2rem;\r\n  color: #2c3e50;\r\n  margin: 0;\r\n}\r\n\r\n.curtain-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n.curtain-card {\r\n  cursor: pointer;\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.curtain-card:hover {\r\n  transform: translateY(-5px);\r\n}\r\n\r\n.curtain-image {\r\n  width: 100%;\r\n  height: 200px;\r\n  object-fit: cover;\r\n}\r\n\r\n.curtain-info {\r\n  padding: 15px;\r\n}\r\n\r\n.curtain-info h3 {\r\n  margin: 0 0 10px 0;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.curtain-info p {\r\n  margin: 0 0 10px 0;\r\n  color: #7f8c8d;\r\n  font-size: 0.9rem;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\r\n\r\n.curtain-tags {\r\n  display: flex;\r\n  gap: 5px;\r\n}\r\n\r\n.loading-container {\r\n  padding: 20px;\r\n}\r\n\r\n.error-message {\r\n  margin: 20px 0;\r\n}\r\n\r\n.empty-state {\r\n  padding: 40px 0;\r\n  text-align: center;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}