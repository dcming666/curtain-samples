{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"admin-container\"\n};\nconst _hoisted_2 = {\n  class: \"user-info\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  class: \"el-dropdown-link\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_avatar = _resolveComponent(\"el-avatar\");\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  const _component_el_header = _resolveComponent(\"el-header\");\n  const _component_document = _resolveComponent(\"document\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  const _component_folder = _resolveComponent(\"folder\");\n  const _component_el_menu = _resolveComponent(\"el-menu\");\n  const _component_el_aside = _resolveComponent(\"el-aside\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  const _component_el_main = _resolveComponent(\"el-main\");\n  const _component_el_container = _resolveComponent(\"el-container\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_header, {\n    class: \"admin-header\"\n  }, {\n    default: _withCtx(() => [_cache[1] || (_cache[1] = _createElementVNode(\"div\", {\n      class: \"logo\"\n    }, [_createElementVNode(\"h1\", null, \"窗帘样本管理系统\")], -1)), _createElementVNode(\"div\", _hoisted_2, [$setup.authStore.user ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString($setup.authStore.user.username), 1)) : _createCommentVNode(\"\", true), _createVNode(_component_el_dropdown, {\n      onCommand: $setup.handleCommand\n    }, {\n      dropdown: _withCtx(() => [_createVNode(_component_el_dropdown_menu, null, {\n        default: _withCtx(() => [_createVNode(_component_el_dropdown_item, {\n          command: \"logout\"\n        }, {\n          default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"退出登录\")])),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_4, [_createVNode(_component_el_avatar, {\n        size: 32,\n        icon: \"el-icon-user\"\n      })])]),\n      _: 1\n    }, 8, [\"onCommand\"])])]),\n    _: 1\n  }), _createVNode(_component_el_container, {\n    class: \"main-container\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_aside, {\n      width: \"200px\",\n      class: \"admin-aside\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_menu, {\n        router: true,\n        \"default-active\": $setup.activeMenu,\n        class: \"admin-menu\",\n        \"background-color\": \"#304156\",\n        \"text-color\": \"#bfcbd9\",\n        \"active-text-color\": \"#409EFF\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_menu_item, {\n          index: \"/admin/curtains\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode(_component_document)]),\n            _: 1\n          }), _cache[2] || (_cache[2] = _createElementVNode(\"span\", null, \"窗帘样本管理\", -1))]),\n          _: 1\n        }), _createVNode(_component_el_menu_item, {\n          index: \"/admin/categories\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode(_component_folder)]),\n            _: 1\n          }), _cache[3] || (_cache[3] = _createElementVNode(\"span\", null, \"分类管理\", -1))]),\n          _: 1\n        })]),\n        _: 1\n      }, 8, [\"default-active\"])]),\n      _: 1\n    }), _createVNode(_component_el_main, {\n      class: \"admin-main\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_router_view)]),\n      _: 1\n    })]),\n    _: 1\n  })]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_el_header","default","_withCtx","_createElementVNode","_hoisted_2","$setup","authStore","user","_hoisted_3","_toDisplayString","username","_createCommentVNode","_component_el_dropdown","onCommand","handleCommand","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","command","_cache","_createTextVNode","_","_hoisted_4","_component_el_avatar","size","icon","_component_el_container","_component_el_aside","width","_component_el_menu","router","activeMenu","_component_el_menu_item","index","_component_el_icon","_component_document","_component_folder","_component_el_main","_component_router_view"],"sources":["C:\\Users\\Firebat\\Desktop\\curtain\\frontend\\frontend-app\\src\\views\\admin\\Admin.vue"],"sourcesContent":["<template>\r\n  <div class=\"admin-container\">\r\n    <!-- 顶部导航栏 -->\r\n    <el-header class=\"admin-header\">\r\n      <div class=\"logo\">\r\n        <h1>窗帘样本管理系统</h1>\r\n      </div>\r\n      <div class=\"user-info\">\r\n        <span v-if=\"authStore.user\">{{ authStore.user.username }}</span>\r\n        <el-dropdown @command=\"handleCommand\">\r\n          <span class=\"el-dropdown-link\">\r\n            <el-avatar :size=\"32\" icon=\"el-icon-user\" />\r\n          </span>\r\n          <template #dropdown>\r\n            <el-dropdown-menu>\r\n              <el-dropdown-item command=\"logout\">退出登录</el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </template>\r\n        </el-dropdown>\r\n      </div>\r\n    </el-header>\r\n    \r\n    <el-container class=\"main-container\">\r\n      <!-- 侧边栏导航 -->\r\n      <el-aside width=\"200px\" class=\"admin-aside\">\r\n        <el-menu\r\n          :router=\"true\"\r\n          :default-active=\"activeMenu\"\r\n          class=\"admin-menu\"\r\n          background-color=\"#304156\"\r\n          text-color=\"#bfcbd9\"\r\n          active-text-color=\"#409EFF\"\r\n        >\r\n          <el-menu-item index=\"/admin/curtains\">\r\n            <el-icon><document /></el-icon>\r\n            <span>窗帘样本管理</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/admin/categories\">\r\n            <el-icon><folder /></el-icon>\r\n            <span>分类管理</span>\r\n          </el-menu-item>\r\n        </el-menu>\r\n      </el-aside>\r\n      \r\n      <!-- 主内容区域 -->\r\n      <el-main class=\"admin-main\">\r\n        <router-view />\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { useAuthStore } from '../../stores'\r\n\r\nexport default {\r\n  name: 'Admin',\r\n  setup() {\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    const authStore = useAuthStore()\r\n    \r\n    // 获取当前激活的菜单项\r\n    const activeMenu = computed(() => route.path)\r\n    \r\n    // 组件挂载时获取用户信息\r\n    onMounted(async () => {\r\n      if (!authStore.user) {\r\n        await authStore.fetchCurrentUser()\r\n      }\r\n    })\r\n    \r\n    // 处理下拉菜单命令\r\n    const handleCommand = (command) => {\r\n      if (command === 'logout') {\r\n        authStore.logout()\r\n        router.push({ name: 'Login' })\r\n      }\r\n    }\r\n    \r\n    return {\r\n      authStore,\r\n      activeMenu,\r\n      handleCommand\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.admin-container {\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.admin-header {\r\n  background-color: #fff;\r\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n}\r\n\r\n.logo h1 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  color: #303133;\r\n}\r\n\r\n.user-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.el-dropdown-link {\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.main-container {\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n.admin-aside {\r\n  background-color: #304156;\r\n  height: 100%;\r\n  overflow-y: auto;\r\n}\r\n\r\n.admin-menu {\r\n  border-right: none;\r\n}\r\n\r\n.admin-main {\r\n  padding: 20px;\r\n  background-color: #f0f2f5;\r\n  height: 100%;\r\n  overflow-y: auto;\r\n}\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAiB;;EAMnBA,KAAK,EAAC;AAAW;;EAP5BC,GAAA;AAAA;;EAUgBD,KAAK,EAAC;AAAkB;;;;;;;;;;;;;;;;uBATtCE,mBAAA,CAgDM,OAhDNC,UAgDM,GA9CJC,YAAA,CAiBYC,oBAAA;IAjBDL,KAAK,EAAC;EAAc;IAHnCM,OAAA,EAAAC,QAAA,CAIM,MAEM,C,0BAFNC,mBAAA,CAEM;MAFDR,KAAK,EAAC;IAAM,IACfQ,mBAAA,CAAiB,YAAb,UAAQ,E,QAEdA,mBAAA,CAYM,OAZNC,UAYM,GAXQC,MAAA,CAAAC,SAAS,CAACC,IAAI,I,cAA1BV,mBAAA,CAAgE,QARxEW,UAAA,EAAAC,gBAAA,CAQuCJ,MAAA,CAAAC,SAAS,CAACC,IAAI,CAACG,QAAQ,SAR9DC,mBAAA,YASQZ,YAAA,CASca,sBAAA;MATAC,SAAO,EAAER,MAAA,CAAAS;IAAa;MAIvBC,QAAQ,EAAAb,QAAA,CACjB,MAEmB,CAFnBH,YAAA,CAEmBiB,2BAAA;QAhB/Bf,OAAA,EAAAC,QAAA,CAec,MAA0D,CAA1DH,YAAA,CAA0DkB,2BAAA;UAAxCC,OAAO,EAAC;QAAQ;UAfhDjB,OAAA,EAAAC,QAAA,CAeiD,MAAIiB,MAAA,QAAAA,MAAA,OAfrDC,gBAAA,CAeiD,MAAI,E;UAfrDC,CAAA;;QAAAA,CAAA;;MAAApB,OAAA,EAAAC,QAAA,CAUU,MAEO,CAFPC,mBAAA,CAEO,QAFPmB,UAEO,GADLvB,YAAA,CAA4CwB,oBAAA;QAAhCC,IAAI,EAAE,EAAE;QAAEC,IAAI,EAAC;;MAXvCJ,CAAA;;IAAAA,CAAA;MAsBItB,YAAA,CA0Be2B,uBAAA;IA1BD/B,KAAK,EAAC;EAAgB;IAtBxCM,OAAA,EAAAC,QAAA,CAwBM,MAkBW,CAlBXH,YAAA,CAkBW4B,mBAAA;MAlBDC,KAAK,EAAC,OAAO;MAACjC,KAAK,EAAC;;MAxBpCM,OAAA,EAAAC,QAAA,CAyBQ,MAgBU,CAhBVH,YAAA,CAgBU8B,kBAAA;QAfPC,MAAM,EAAE,IAAI;QACZ,gBAAc,EAAEzB,MAAA,CAAA0B,UAAU;QAC3BpC,KAAK,EAAC,YAAY;QAClB,kBAAgB,EAAC,SAAS;QAC1B,YAAU,EAAC,SAAS;QACpB,mBAAiB,EAAC;;QA/B5BM,OAAA,EAAAC,QAAA,CAiCU,MAGe,CAHfH,YAAA,CAGeiC,uBAAA;UAHDC,KAAK,EAAC;QAAiB;UAjC/ChC,OAAA,EAAAC,QAAA,CAkCY,MAA+B,CAA/BH,YAAA,CAA+BmC,kBAAA;YAlC3CjC,OAAA,EAAAC,QAAA,CAkCqB,MAAY,CAAZH,YAAA,CAAYoC,mBAAA,E;YAlCjCd,CAAA;wCAmCYlB,mBAAA,CAAmB,cAAb,QAAM,O;UAnCxBkB,CAAA;YAqCUtB,YAAA,CAGeiC,uBAAA;UAHDC,KAAK,EAAC;QAAmB;UArCjDhC,OAAA,EAAAC,QAAA,CAsCY,MAA6B,CAA7BH,YAAA,CAA6BmC,kBAAA;YAtCzCjC,OAAA,EAAAC,QAAA,CAsCqB,MAAU,CAAVH,YAAA,CAAUqC,iBAAA,E;YAtC/Bf,CAAA;wCAuCYlB,mBAAA,CAAiB,cAAX,MAAI,O;UAvCtBkB,CAAA;;QAAAA,CAAA;;MAAAA,CAAA;QA6CMtB,YAAA,CAEUsC,kBAAA;MAFD1C,KAAK,EAAC;IAAY;MA7CjCM,OAAA,EAAAC,QAAA,CA8CQ,MAAe,CAAfH,YAAA,CAAeuC,sBAAA,E;MA9CvBjB,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}