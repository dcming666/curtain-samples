"use strict";(self["webpackChunkfrontend_app"]=self["webpackChunkfrontend_app"]||[]).push([[995],{1570:function(t,e,a){a.d(e,{x:function(){return n}});a(8111),a(116);var r=a(2261);const n=(0,r.nY)("curtain",{state:()=>({curtains:[],categories:[],currentCurtain:null,loading:!1,error:null}),actions:{async fetchCurtains(){this.loading=!0;try{const t=await fetch("/data/curtains.json"),e=await t.json();this.curtains=e.curtains,this.error=null}catch(t){this.error="获取窗帘样本失败: "+t.message,console.error("获取窗帘样本失败:",t)}finally{this.loading=!1}},async fetchCurtainById(t){this.loading=!0;try{const e=await fetch("/data/curtains.json"),a=await e.json();this.currentCurtain=a.curtains.find((e=>e.id===t)),this.error=null}catch(e){this.error="获取窗帘样本详情失败: "+e.message,console.error("获取窗帘样本详情失败:",e)}finally{this.loading=!1}},async fetchCategories(){this.loading=!0;try{const t=await fetch("/data/curtains.json"),e=await t.json();this.categories=e.categories,this.error=null}catch(t){this.error="获取分类失败: "+t.message,console.error("获取分类失败:",t)}finally{this.loading=!1}}}})},5995:function(t,e,a){a.r(e),a.d(e,{default:function(){return X}});var r=a(6768),n=a(4232);const i={class:"category-container"},s={class:"page-header"},c={key:0},o={key:1},l={key:0,class:"loading-container"},u={key:1,class:"error-message"},d={key:2},g={key:0,class:"empty-state"},h={key:1,class:"curtain-grid"},y=["src"],k={class:"curtain-info"},f={class:"curtain-tags"};function C(t,e,a,C,v,p){const m=(0,r.g2)("el-button"),w=(0,r.g2)("el-col"),_=(0,r.g2)("el-row"),X=(0,r.g2)("el-skeleton"),E=(0,r.g2)("el-alert"),b=(0,r.g2)("el-empty"),W=(0,r.g2)("el-tag"),F=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.bF)(_,{gutter:20},{default:(0,r.k6)((()=>[(0,r.bF)(w,{span:24},{default:(0,r.k6)((()=>[(0,r.Lk)("div",s,[C.currentCategory?((0,r.uX)(),(0,r.CE)("h1",c,(0,n.v_)(C.currentCategory.name),1)):((0,r.uX)(),(0,r.CE)("h1",o,"分类浏览")),(0,r.bF)(m,{onClick:C.goBack,icon:"el-icon-arrow-left"},{default:(0,r.k6)((()=>e[0]||(e[0]=[(0,r.eW)("返回首页")]))),_:1},8,["onClick"])])])),_:1})])),_:1}),C.curtainStore.loading?((0,r.uX)(),(0,r.CE)("div",l,[(0,r.bF)(X,{rows:5,animated:""})])):C.curtainStore.error?((0,r.uX)(),(0,r.CE)("div",u,[(0,r.bF)(E,{title:C.curtainStore.error,type:"error","show-icon":""},null,8,["title"])])):((0,r.uX)(),(0,r.CE)("div",d,[0===C.curtainStore.curtains.length?((0,r.uX)(),(0,r.CE)("div",g,[(0,r.bF)(b,{description:"该分类下暂无窗帘样本"})])):((0,r.uX)(),(0,r.CE)("div",h,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(C.curtainStore.curtains,(t=>((0,r.uX)(),(0,r.Wv)(F,{key:t.id,class:"curtain-card","body-style":{padding:"0px"},shadow:"hover",onClick:e=>C.navigateToCurtain(t.id)},{default:(0,r.k6)((()=>[(0,r.Lk)("img",{src:t.image_url,class:"curtain-image"},null,8,y),(0,r.Lk)("div",k,[(0,r.Lk)("h3",null,(0,n.v_)(t.name),1),(0,r.Lk)("p",null,(0,n.v_)(t.description),1),(0,r.Lk)("div",f,[t.in_stock?((0,r.uX)(),(0,r.Wv)(W,{key:0,size:"small",type:"success"},{default:(0,r.k6)((()=>e[1]||(e[1]=[(0,r.eW)("有库存")]))),_:1})):((0,r.uX)(),(0,r.Wv)(W,{key:1,size:"small",type:"danger"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.eW)("缺货")]))),_:1})),t.is_new?((0,r.uX)(),(0,r.Wv)(W,{key:2,size:"small",type:"warning"},{default:(0,r.k6)((()=>e[3]||(e[3]=[(0,r.eW)("新品")]))),_:1})):(0,r.Q3)("",!0)])])])),_:2},1032,["onClick"])))),128))]))]))])}a(4114),a(8111),a(116);var v=a(1387),p=a(1570),m={name:"CategoryList",setup(){const t=(0,v.lq)(),e=(0,v.rd)(),a=(0,p.x)(),n=(0,r.EW)((()=>t.params.id)),i=(0,r.EW)((()=>n.value&&a.categories.length&&a.categories.find((t=>t.id==n.value))||null));(0,r.sV)((async()=>{a.categories.length||await a.fetchCategories(),n.value&&await a.fetchCurtainsByCategory(n.value)}));const s=t=>{e.push({name:"CurtainDetail",params:{id:t}})},c=()=>{e.push({name:"Home"})};return{curtainStore:a,currentCategory:i,navigateToCurtain:s,goBack:c}}},w=a(1241);const _=(0,w.A)(m,[["render",C],["__scopeId","data-v-54001de8"]]);var X=_}}]);
//# sourceMappingURL=995.d3b7bb14.js.map