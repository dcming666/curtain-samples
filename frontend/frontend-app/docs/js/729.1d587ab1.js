"use strict";(self["webpackChunkfrontend_app"]=self["webpackChunkfrontend_app"]||[]).push([[729],{1570:function(a,t,e){e.d(t,{x:function(){return n}});e(8111),e(116);var r=e(2261);const n=(0,r.nY)("curtain",{state:()=>({curtains:[],categories:[],currentCurtain:null,loading:!1,error:null}),actions:{async fetchCurtains(){this.loading=!0;try{const a=await fetch("/data/curtains.json"),t=await a.json();this.curtains=t.curtains,this.error=null}catch(a){this.error="获取窗帘样本失败: "+a.message,console.error("获取窗帘样本失败:",a)}finally{this.loading=!1}},async fetchCurtainById(a){this.loading=!0;try{const t=await fetch("/data/curtains.json"),e=await t.json();this.currentCurtain=e.curtains.find((t=>t.id===a)),this.error=null}catch(t){this.error="获取窗帘样本详情失败: "+t.message,console.error("获取窗帘样本详情失败:",t)}finally{this.loading=!1}},async fetchCategories(){this.loading=!0;try{const a=await fetch("/data/curtains.json"),t=await a.json();this.categories=t.categories,this.error=null}catch(a){this.error="获取分类失败: "+a.message,console.error("获取分类失败:",a)}finally{this.loading=!1}}}})},5729:function(a,t,e){e.r(t),e.d(t,{default:function(){return _}});var r=e(6768),n=e(4232);const i={class:"home-container"},s={key:0,class:"loading-container"},o={key:1,class:"error-message"},l={key:2,class:"category-list"},c={key:0,class:"loading-container"},u={key:1,class:"error-message"},d={key:2,class:"curtain-grid"},g=["src"],h={class:"curtain-info"},k={class:"curtain-tags"};function y(a,t,e,y,f,p){const v=(0,r.g2)("el-col"),C=(0,r.g2)("el-row"),m=(0,r.g2)("el-skeleton"),_=(0,r.g2)("el-alert"),w=(0,r.g2)("el-button"),b=(0,r.g2)("el-tag"),F=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.bF)(C,{gutter:20},{default:(0,r.k6)((()=>[(0,r.bF)(v,{span:24},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.Lk)("div",{class:"page-header"},[(0,r.Lk)("h1",null,"窗帘样本展示"),(0,r.Lk)("p",null,"浏览我们的精选窗帘样本，为您的家居空间增添美感")],-1)]))),_:1})])),_:1}),(0,r.bF)(C,{gutter:20,class:"category-nav"},{default:(0,r.k6)((()=>[(0,r.bF)(v,{span:24},{default:(0,r.k6)((()=>[t[1]||(t[1]=(0,r.Lk)("h2",null,"窗帘分类",-1)),y.curtainStore.loading?((0,r.uX)(),(0,r.CE)("div",s,[(0,r.bF)(m,{rows:3,animated:""})])):y.curtainStore.error?((0,r.uX)(),(0,r.CE)("div",o,[(0,r.bF)(_,{title:y.curtainStore.error,type:"error","show-icon":""},null,8,["title"])])):((0,r.uX)(),(0,r.CE)("div",l,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(y.curtainStore.categories,(a=>((0,r.uX)(),(0,r.Wv)(w,{key:a.id,type:"primary",plain:"",onClick:t=>y.navigateToCategory(a.id)},{default:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(a.name),1)])),_:2},1032,["onClick"])))),128))]))])),_:1})])),_:1}),(0,r.bF)(C,{gutter:20},{default:(0,r.k6)((()=>[(0,r.bF)(v,{span:24},{default:(0,r.k6)((()=>[t[4]||(t[4]=(0,r.Lk)("h2",null,"最新样本",-1)),y.curtainStore.loading?((0,r.uX)(),(0,r.CE)("div",c,[(0,r.bF)(m,{rows:5,animated:""})])):y.curtainStore.error?((0,r.uX)(),(0,r.CE)("div",u,[(0,r.bF)(_,{title:y.curtainStore.error,type:"error","show-icon":""},null,8,["title"])])):((0,r.uX)(),(0,r.CE)("div",d,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(y.curtainStore.curtains,(a=>((0,r.uX)(),(0,r.Wv)(F,{key:a.id,class:"curtain-card","body-style":{padding:"0px"},shadow:"hover",onClick:t=>y.navigateToCurtain(a.id)},{default:(0,r.k6)((()=>[(0,r.Lk)("img",{src:a.image_url,class:"curtain-image"},null,8,g),(0,r.Lk)("div",h,[(0,r.Lk)("h3",null,(0,n.v_)(a.name),1),(0,r.Lk)("p",null,(0,n.v_)(a.description),1),(0,r.Lk)("div",k,[(0,r.bF)(b,{size:"small",type:"info"},{default:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(a.category_name),1)])),_:2},1024),a.in_stock?((0,r.uX)(),(0,r.Wv)(b,{key:0,size:"small",type:"success"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.eW)("有库存")]))),_:1})):((0,r.uX)(),(0,r.Wv)(b,{key:1,size:"small",type:"danger"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("缺货")]))),_:1}))])])])),_:2},1032,["onClick"])))),128))]))])),_:1})])),_:1})])}e(4114);var f=e(1387),p=e(1570),v={name:"Home",setup(){const a=(0,f.rd)(),t=(0,p.x)();(0,r.sV)((async()=>{await t.fetchCategories(),await t.fetchCurtains()}));const e=t=>{a.push({name:"CategoryList",params:{id:t}})},n=t=>{a.push({name:"CurtainDetail",params:{id:t}})};return{curtainStore:t,navigateToCategory:e,navigateToCurtain:n}}},C=e(1241);const m=(0,C.A)(v,[["render",y],["__scopeId","data-v-cd4634d6"]]);var _=m}}]);
//# sourceMappingURL=729.1d587ab1.js.map