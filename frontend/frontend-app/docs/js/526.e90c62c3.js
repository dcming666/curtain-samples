"use strict";(self["webpackChunkfrontend_app"]=self["webpackChunkfrontend_app"]||[]).push([[526],{1570:function(a,n,e){e.d(n,{x:function(){return r}});e(8111),e(116);var t=e(2261);const r=(0,t.nY)("curtain",{state:()=>({curtains:[],categories:[],currentCurtain:null,loading:!1,error:null}),actions:{async fetchCurtains(){this.loading=!0;try{const a=await fetch("/data/curtains.json"),n=await a.json();this.curtains=n.curtains,this.error=null}catch(a){this.error="获取窗帘样本失败: "+a.message,console.error("获取窗帘样本失败:",a)}finally{this.loading=!1}},async fetchCurtainById(a){this.loading=!0;try{const n=await fetch("/data/curtains.json"),e=await n.json();this.currentCurtain=e.curtains.find((n=>n.id===a)),this.error=null}catch(n){this.error="获取窗帘样本详情失败: "+n.message,console.error("获取窗帘样本详情失败:",n)}finally{this.loading=!1}},async fetchCategories(){this.loading=!0;try{const a=await fetch("/data/curtains.json"),n=await a.json();this.categories=n.categories,this.error=null}catch(a){this.error="获取分类失败: "+a.message,console.error("获取分类失败:",a)}finally{this.loading=!1}}}})},6526:function(a,n,e){e.r(n),e.d(n,{default:function(){return m}});var t=e(6768),r=e(4232);const s={class:"admin-container"},o={class:"user-info"},i={key:0},l={class:"el-dropdown-link"};function u(a,n,e,u,c,d){const h=(0,t.g2)("el-avatar"),f=(0,t.g2)("el-dropdown-item"),g=(0,t.g2)("el-dropdown-menu"),m=(0,t.g2)("el-dropdown"),k=(0,t.g2)("el-header"),b=(0,t.g2)("document"),p=(0,t.g2)("el-icon"),F=(0,t.g2)("el-menu-item"),_=(0,t.g2)("folder"),v=(0,t.g2)("el-menu"),w=(0,t.g2)("el-aside"),C=(0,t.g2)("router-view"),y=(0,t.g2)("el-main"),L=(0,t.g2)("el-container");return(0,t.uX)(),(0,t.CE)("div",s,[(0,t.bF)(k,{class:"admin-header"},{default:(0,t.k6)((()=>[n[1]||(n[1]=(0,t.Lk)("div",{class:"logo"},[(0,t.Lk)("h1",null,"窗帘样本管理系统")],-1)),(0,t.Lk)("div",o,[u.authStore.user?((0,t.uX)(),(0,t.CE)("span",i,(0,r.v_)(u.authStore.user.username),1)):(0,t.Q3)("",!0),(0,t.bF)(m,{onCommand:u.handleCommand},{dropdown:(0,t.k6)((()=>[(0,t.bF)(g,null,{default:(0,t.k6)((()=>[(0,t.bF)(f,{command:"logout"},{default:(0,t.k6)((()=>n[0]||(n[0]=[(0,t.eW)("退出登录")]))),_:1})])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("span",l,[(0,t.bF)(h,{size:32,icon:"el-icon-user"})])])),_:1},8,["onCommand"])])])),_:1}),(0,t.bF)(L,{class:"main-container"},{default:(0,t.k6)((()=>[(0,t.bF)(w,{width:"200px",class:"admin-aside"},{default:(0,t.k6)((()=>[(0,t.bF)(v,{router:!0,"default-active":u.activeMenu,class:"admin-menu","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF"},{default:(0,t.k6)((()=>[(0,t.bF)(F,{index:"/admin/curtains"},{default:(0,t.k6)((()=>[(0,t.bF)(p,null,{default:(0,t.k6)((()=>[(0,t.bF)(b)])),_:1}),n[2]||(n[2]=(0,t.Lk)("span",null,"窗帘样本管理",-1))])),_:1}),(0,t.bF)(F,{index:"/admin/categories"},{default:(0,t.k6)((()=>[(0,t.bF)(p,null,{default:(0,t.k6)((()=>[(0,t.bF)(_)])),_:1}),n[3]||(n[3]=(0,t.Lk)("span",null,"分类管理",-1))])),_:1})])),_:1},8,["default-active"])])),_:1}),(0,t.bF)(y,{class:"admin-main"},{default:(0,t.k6)((()=>[(0,t.bF)(C)])),_:1})])),_:1})])}e(4114);var c=e(1387),d=e(1570),h={name:"Admin",setup(){const a=(0,c.rd)(),n=(0,c.lq)(),e=(0,d.useAuthStore)(),r=(0,t.EW)((()=>n.path));(0,t.sV)((async()=>{e.user||await e.fetchCurrentUser()}));const s=n=>{"logout"===n&&(e.logout(),a.push({name:"Login"}))};return{authStore:e,activeMenu:r,handleCommand:s}}},f=e(1241);const g=(0,f.A)(h,[["render",u],["__scopeId","data-v-4fb0ee82"]]);var m=g}}]);
//# sourceMappingURL=526.e90c62c3.js.map